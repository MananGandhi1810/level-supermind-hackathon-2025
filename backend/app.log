2025-01-19 07:22:48,746 - main - CRITICAL - [main.py:39] - Missing required environment variable: COMMENTS_API_KEY
2025-01-19 07:23:34,474 - astrapy.database - INFO - [database.py:1022] - findCollections
2025-01-19 07:23:35,245 - httpx - INFO - [_client.py:1038] - HTTP Request: POST https://76def820-552c-4b62-a2de-db7646bb920a-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace "HTTP/1.1 200 OK"
2025-01-19 07:23:35,246 - astrapy.database - INFO - [database.py:1034] - finished findCollections
2025-01-19 07:23:35,246 - main - INFO - [main.py:56] - Successfully initialized Gemini and Firecrawl
2025-01-19 07:23:35,250 - main - INFO - [main.py:141] - Successfully initialized all Gemini models
2025-01-19 07:25:16,543 - main - INFO - [main.py:461] - Starting competitor analysis
2025-01-19 07:25:21,414 - main - INFO - [main.py:466] - Successfully scraped website data
2025-01-19 07:25:32,273 - main - INFO - [main.py:474] - Completed website analysis
2025-01-19 07:25:33,152 - main - INFO - [main.py:484] - Generated 3 search queries
2025-01-19 07:25:33,221 - main - INFO - [main.py:507] - Completed search 1/3: customizable phone skins
2025-01-19 07:25:33,266 - main - INFO - [main.py:507] - Completed search 2/3: laptop vinyl wraps
2025-01-19 07:25:34,327 - main - INFO - [main.py:507] - Completed search 3/3: 3M device skins
2025-01-19 07:25:34,328 - main - INFO - [main.py:525] - Processed 3 search results
2025-01-19 07:25:36,991 - main - INFO - [main.py:537] - Identified 3 top competitors
2025-01-19 08:01:25,037 - __main__ - CRITICAL - [main.py:79] - Missing required environment variable: GEMINI_API_KEY
2025-01-19 08:01:33,804 - __main__ - CRITICAL - [main.py:79] - Missing required environment variable: GEMINI_KEY
2025-01-19 08:01:42,580 - astrapy.database - INFO - [database.py:1022] - findCollections
2025-01-19 08:01:43,368 - httpx - INFO - [_client.py:1038] - HTTP Request: POST https://76def820-552c-4b62-a2de-db7646bb920a-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace "HTTP/1.1 200 OK"
2025-01-19 08:01:43,369 - astrapy.database - INFO - [database.py:1034] - finished findCollections
2025-01-19 08:01:43,370 - __main__ - INFO - [main.py:97] - Successfully initialized Gemini and Firecrawl
2025-01-19 08:01:43,373 - __main__ - INFO - [main.py:184] - Successfully initialized all Gemini models
2025-01-19 08:02:10,860 - astrapy.database - INFO - [database.py:1022] - findCollections
2025-01-19 08:02:11,676 - httpx - INFO - [_client.py:1038] - HTTP Request: POST https://76def820-552c-4b62-a2de-db7646bb920a-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace "HTTP/1.1 200 OK"
2025-01-19 08:02:11,678 - astrapy.database - INFO - [database.py:1034] - finished findCollections
2025-01-19 08:02:11,679 - __main__ - INFO - [main.py:97] - Successfully initialized Gemini and Firecrawl
2025-01-19 08:02:11,683 - __main__ - INFO - [main.py:184] - Successfully initialized all Gemini models
2025-01-19 08:02:30,722 - astrapy.database - INFO - [database.py:1022] - findCollections
2025-01-19 08:02:31,485 - httpx - INFO - [_client.py:1038] - HTTP Request: POST https://76def820-552c-4b62-a2de-db7646bb920a-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace "HTTP/1.1 200 OK"
2025-01-19 08:02:31,486 - astrapy.database - INFO - [database.py:1034] - finished findCollections
2025-01-19 08:02:31,486 - __main__ - INFO - [main.py:97] - Successfully initialized Gemini and Firecrawl
2025-01-19 08:02:31,489 - __main__ - INFO - [main.py:184] - Successfully initialized all Gemini models
2025-01-19 08:02:34,103 - astrapy.database - INFO - [database.py:1022] - findCollections
2025-01-19 08:02:34,862 - httpx - INFO - [_client.py:1038] - HTTP Request: POST https://76def820-552c-4b62-a2de-db7646bb920a-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace "HTTP/1.1 200 OK"
2025-01-19 08:02:34,863 - astrapy.database - INFO - [database.py:1034] - finished findCollections
2025-01-19 08:02:34,865 - __main__ - INFO - [main.py:97] - Successfully initialized Gemini and Firecrawl
2025-01-19 08:02:34,868 - __main__ - INFO - [main.py:184] - Successfully initialized all Gemini models
2025-01-19 08:02:57,780 - astrapy.database - INFO - [database.py:1022] - findCollections
2025-01-19 08:02:58,598 - httpx - INFO - [_client.py:1038] - HTTP Request: POST https://76def820-552c-4b62-a2de-db7646bb920a-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace "HTTP/1.1 200 OK"
2025-01-19 08:02:58,599 - astrapy.database - INFO - [database.py:1034] - finished findCollections
2025-01-19 08:02:58,599 - __main__ - INFO - [main.py:97] - Successfully initialized Gemini and Firecrawl
2025-01-19 08:02:58,601 - __main__ - INFO - [main.py:184] - Successfully initialized all Gemini models
2025-01-19 08:03:22,059 - astrapy.database - INFO - [database.py:1022] - findCollections
2025-01-19 08:03:22,964 - httpx - INFO - [_client.py:1038] - HTTP Request: POST https://76def820-552c-4b62-a2de-db7646bb920a-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace "HTTP/1.1 200 OK"
2025-01-19 08:03:22,966 - astrapy.database - INFO - [database.py:1034] - finished findCollections
2025-01-19 08:03:22,967 - __main__ - INFO - [main.py:97] - Successfully initialized Gemini and Firecrawl
2025-01-19 08:03:22,971 - __main__ - INFO - [main.py:184] - Successfully initialized all Gemini models
2025-01-19 08:04:27,348 - astrapy.database - INFO - [database.py:1022] - findCollections
2025-01-19 08:04:28,139 - httpx - INFO - [_client.py:1038] - HTTP Request: POST https://76def820-552c-4b62-a2de-db7646bb920a-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace "HTTP/1.1 200 OK"
2025-01-19 08:04:28,141 - astrapy.database - INFO - [database.py:1034] - finished findCollections
2025-01-19 08:04:28,142 - __main__ - INFO - [main.py:97] - Successfully initialized Gemini and Firecrawl
2025-01-19 08:04:28,145 - __main__ - INFO - [main.py:184] - Successfully initialized all Gemini models
2025-01-19 08:05:27,283 - astrapy.database - INFO - [database.py:1022] - findCollections
2025-01-19 08:05:28,021 - httpx - INFO - [_client.py:1038] - HTTP Request: POST https://76def820-552c-4b62-a2de-db7646bb920a-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace "HTTP/1.1 200 OK"
2025-01-19 08:05:28,022 - astrapy.database - INFO - [database.py:1034] - finished findCollections
2025-01-19 08:05:28,022 - __main__ - INFO - [main.py:97] - Successfully initialized Gemini and Firecrawl
2025-01-19 08:05:28,025 - __main__ - INFO - [main.py:184] - Successfully initialized all Gemini models
2025-01-19 08:05:54,097 - astrapy.database - INFO - [database.py:1022] - findCollections
2025-01-19 08:05:54,907 - httpx - INFO - [_client.py:1038] - HTTP Request: POST https://76def820-552c-4b62-a2de-db7646bb920a-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace "HTTP/1.1 200 OK"
2025-01-19 08:05:54,908 - astrapy.database - INFO - [database.py:1034] - finished findCollections
2025-01-19 08:05:54,910 - __main__ - INFO - [main.py:97] - Successfully initialized Gemini and Firecrawl
2025-01-19 08:05:54,914 - __main__ - INFO - [main.py:184] - Successfully initialized all Gemini models
2025-01-19 08:06:42,531 - astrapy.database - INFO - [database.py:1022] - findCollections
2025-01-19 08:06:43,395 - httpx - INFO - [_client.py:1038] - HTTP Request: POST https://76def820-552c-4b62-a2de-db7646bb920a-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace "HTTP/1.1 200 OK"
2025-01-19 08:06:43,397 - astrapy.database - INFO - [database.py:1034] - finished findCollections
2025-01-19 08:06:43,398 - __main__ - INFO - [main.py:97] - Successfully initialized Gemini and Firecrawl
2025-01-19 08:06:43,402 - __main__ - INFO - [main.py:184] - Successfully initialized all Gemini models
2025-01-19 08:07:20,258 - astrapy.database - INFO - [database.py:1022] - findCollections
2025-01-19 08:07:21,319 - httpx - INFO - [_client.py:1038] - HTTP Request: POST https://76def820-552c-4b62-a2de-db7646bb920a-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace "HTTP/1.1 200 OK"
2025-01-19 08:07:21,321 - astrapy.database - INFO - [database.py:1034] - finished findCollections
2025-01-19 08:07:21,323 - __main__ - INFO - [main.py:97] - Successfully initialized Gemini and Firecrawl
2025-01-19 08:07:21,327 - __main__ - INFO - [main.py:184] - Successfully initialized all Gemini models
2025-01-19 08:07:48,753 - astrapy.database - INFO - [database.py:1022] - findCollections
2025-01-19 08:07:50,146 - httpx - INFO - [_client.py:1038] - HTTP Request: POST https://76def820-552c-4b62-a2de-db7646bb920a-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace "HTTP/1.1 200 OK"
2025-01-19 08:07:50,148 - astrapy.database - INFO - [database.py:1034] - finished findCollections
2025-01-19 08:07:50,149 - __main__ - INFO - [main.py:97] - Successfully initialized Gemini and Firecrawl
2025-01-19 08:07:50,153 - __main__ - INFO - [main.py:184] - Successfully initialized all Gemini models
2025-01-19 08:08:16,270 - astrapy.database - INFO - [database.py:1022] - findCollections
2025-01-19 08:08:17,688 - httpx - INFO - [_client.py:1038] - HTTP Request: POST https://76def820-552c-4b62-a2de-db7646bb920a-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace "HTTP/1.1 200 OK"
2025-01-19 08:08:17,690 - astrapy.database - INFO - [database.py:1034] - finished findCollections
2025-01-19 08:08:17,691 - __main__ - INFO - [main.py:97] - Successfully initialized Gemini and Firecrawl
2025-01-19 08:08:17,694 - __main__ - INFO - [main.py:184] - Successfully initialized all Gemini models
2025-01-19 08:09:19,611 - astrapy.database - INFO - [database.py:1022] - findCollections
2025-01-19 08:09:20,489 - httpx - INFO - [_client.py:1038] - HTTP Request: POST https://76def820-552c-4b62-a2de-db7646bb920a-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace "HTTP/1.1 200 OK"
2025-01-19 08:09:20,491 - astrapy.database - INFO - [database.py:1034] - finished findCollections
2025-01-19 08:09:20,492 - __main__ - INFO - [main.py:97] - Successfully initialized Gemini and Firecrawl
2025-01-19 08:09:20,497 - __main__ - INFO - [main.py:184] - Successfully initialized all Gemini models
2025-01-19 08:09:52,992 - astrapy.database - INFO - [database.py:1022] - findCollections
2025-01-19 08:09:53,914 - httpx - INFO - [_client.py:1038] - HTTP Request: POST https://76def820-552c-4b62-a2de-db7646bb920a-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace "HTTP/1.1 200 OK"
2025-01-19 08:09:53,915 - astrapy.database - INFO - [database.py:1034] - finished findCollections
2025-01-19 08:09:53,916 - __main__ - INFO - [main.py:97] - Successfully initialized Gemini and Firecrawl
2025-01-19 08:09:53,917 - __main__ - INFO - [main.py:184] - Successfully initialized all Gemini models
2025-01-19 08:10:09,728 - astrapy.database - INFO - [database.py:1022] - findCollections
2025-01-19 08:10:10,540 - httpx - INFO - [_client.py:1038] - HTTP Request: POST https://76def820-552c-4b62-a2de-db7646bb920a-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace "HTTP/1.1 200 OK"
2025-01-19 08:10:10,541 - astrapy.database - INFO - [database.py:1034] - finished findCollections
2025-01-19 08:10:10,541 - __main__ - INFO - [main.py:97] - Successfully initialized Gemini and Firecrawl
2025-01-19 08:10:10,544 - __main__ - INFO - [main.py:184] - Successfully initialized all Gemini models
2025-01-19 08:10:18,071 - astrapy.database - INFO - [database.py:1022] - findCollections
2025-01-19 08:10:18,822 - httpx - INFO - [_client.py:1038] - HTTP Request: POST https://76def820-552c-4b62-a2de-db7646bb920a-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace "HTTP/1.1 200 OK"
2025-01-19 08:10:18,823 - astrapy.database - INFO - [database.py:1034] - finished findCollections
2025-01-19 08:10:18,825 - __main__ - INFO - [main.py:97] - Successfully initialized Gemini and Firecrawl
2025-01-19 08:10:18,829 - __main__ - INFO - [main.py:184] - Successfully initialized all Gemini models
2025-01-19 08:11:54,603 - astrapy.database - INFO - [database.py:1022] - findCollections
2025-01-19 08:11:55,465 - httpx - INFO - [_client.py:1038] - HTTP Request: POST https://76def820-552c-4b62-a2de-db7646bb920a-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace "HTTP/1.1 200 OK"
2025-01-19 08:11:55,467 - astrapy.database - INFO - [database.py:1034] - finished findCollections
2025-01-19 08:11:55,468 - __main__ - INFO - [main.py:97] - Successfully initialized Gemini and Firecrawl
2025-01-19 08:11:55,471 - __main__ - INFO - [main.py:184] - Successfully initialized all Gemini models
2025-01-19 08:12:33,703 - astrapy.database - INFO - [database.py:1022] - findCollections
2025-01-19 08:12:34,572 - httpx - INFO - [_client.py:1038] - HTTP Request: POST https://76def820-552c-4b62-a2de-db7646bb920a-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace "HTTP/1.1 200 OK"
2025-01-19 08:12:34,573 - astrapy.database - INFO - [database.py:1034] - finished findCollections
2025-01-19 08:12:34,575 - __main__ - INFO - [main.py:97] - Successfully initialized Gemini and Firecrawl
2025-01-19 08:12:34,578 - __main__ - INFO - [main.py:184] - Successfully initialized all Gemini models
2025-01-19 08:13:08,925 - __main__ - INFO - [main.py:428] - Starting competitor analysis
2025-01-19 08:13:16,611 - __main__ - INFO - [main.py:433] - Successfully scraped website data
2025-01-19 08:13:31,401 - __main__ - INFO - [main.py:445] - Completed website analysis
2025-01-19 08:13:32,474 - __main__ - INFO - [main.py:463] - Generated 3 search queries
2025-01-19 08:13:34,780 - __main__ - INFO - [main.py:490] - Completed search 1/3: customizable phone skins
2025-01-19 08:13:40,374 - __main__ - INFO - [main.py:490] - Completed search 2/3: laptop vinyl wraps
2025-01-19 08:13:40,444 - __main__ - INFO - [main.py:490] - Completed search 3/3: 3M device skins
2025-01-19 08:13:40,444 - __main__ - INFO - [main.py:514] - Processed 3 search results
2025-01-19 08:13:43,581 - __main__ - INFO - [main.py:532] - Identified 3 top competitors
2025-01-19 08:14:24,568 - __main__ - ERROR - [main.py:611] - Error in unified analysis: 'CompetitorSearchResponse' object has no attribute 'analysis'
Traceback (most recent call last):
  File "/Users/manangandhi/Coding/python_projects/level-supermind-hackathon-2025/backend/main.py", line 607, in unified_analysis
    analysis=competitor_result.analysis,
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.13/site-packages/pydantic/main.py", line 891, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'CompetitorSearchResponse' object has no attribute 'analysis'

2025-01-19 08:16:26,055 - astrapy.database - INFO - [database.py:1022] - findCollections
2025-01-19 08:16:27,959 - httpx - INFO - [_client.py:1038] - HTTP Request: POST https://76def820-552c-4b62-a2de-db7646bb920a-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace "HTTP/1.1 200 OK"
2025-01-19 08:16:27,960 - astrapy.database - INFO - [database.py:1034] - finished findCollections
2025-01-19 08:16:27,961 - __main__ - INFO - [main.py:98] - Successfully initialized Gemini and Firecrawl
2025-01-19 08:16:27,964 - __main__ - INFO - [main.py:185] - Successfully initialized all Gemini models
2025-01-19 08:16:29,444 - __main__ - INFO - [main.py:429] - Starting competitor analysis
2025-01-19 08:16:38,761 - __main__ - INFO - [main.py:434] - Successfully scraped website data
2025-01-19 08:16:47,006 - __main__ - INFO - [main.py:446] - Completed website analysis
2025-01-19 08:16:48,255 - __main__ - INFO - [main.py:464] - Generated 3 search queries
2025-01-19 08:16:49,275 - __main__ - INFO - [main.py:491] - Completed search 1/3: customizable phone skins
2025-01-19 08:16:52,672 - __main__ - INFO - [main.py:491] - Completed search 2/3: 3M vinyl wraps
2025-01-19 08:16:55,694 - __main__ - INFO - [main.py:491] - Completed search 3/3: laptop scratch protection skins
2025-01-19 08:16:55,694 - __main__ - INFO - [main.py:515] - Processed 3 search results
2025-01-19 08:16:59,010 - __main__ - INFO - [main.py:533] - Identified 3 top competitors
2025-01-19 08:17:45,991 - __main__ - ERROR - [main.py:590] - Error in social analysis: Extra data: line 15 column 1 (char 1432)
2025-01-19 08:17:45,995 - __main__ - ERROR - [main.py:612] - Error in unified analysis: Extra data: line 15 column 1 (char 1432)
Traceback (most recent call last):
  File "/Users/manangandhi/Coding/python_projects/level-supermind-hackathon-2025/backend/main.py", line 602, in unified_analysis
    competitor_result, social_result = await asyncio.gather(
                                       ^^^^^^^^^^^^^^^^^^^^^
        competitor_task, social_task
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/manangandhi/Coding/python_projects/level-supermind-hackathon-2025/backend/main.py", line 581, in analyze_social_task
    return json.loads(
           ~~~~~~~~~~^
        result["output"]
        ^^^^^^^^^^^^^^^^
    ...<4 lines>...
        .replace("\\n", "")
        ^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/decoder.py", line 347, in decode
    raise JSONDecodeError("Extra data", s, end)
json.decoder.JSONDecodeError: Extra data: line 15 column 1 (char 1432)

2025-01-19 08:18:15,866 - astrapy.database - INFO - [database.py:1022] - findCollections
2025-01-19 08:18:16,824 - httpx - INFO - [_client.py:1038] - HTTP Request: POST https://76def820-552c-4b62-a2de-db7646bb920a-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace "HTTP/1.1 200 OK"
2025-01-19 08:18:16,827 - astrapy.database - INFO - [database.py:1034] - finished findCollections
2025-01-19 08:18:16,829 - __main__ - INFO - [main.py:98] - Successfully initialized Gemini and Firecrawl
2025-01-19 08:18:16,836 - __main__ - INFO - [main.py:185] - Successfully initialized all Gemini models
2025-01-19 08:18:17,071 - __main__ - INFO - [main.py:429] - Starting competitor analysis
2025-01-19 08:18:27,975 - __main__ - INFO - [main.py:434] - Successfully scraped website data
2025-01-19 08:18:38,295 - __main__ - INFO - [main.py:446] - Completed website analysis
2025-01-19 08:18:39,211 - __main__ - INFO - [main.py:464] - Generated 3 search queries
2025-01-19 08:18:39,570 - __main__ - INFO - [main.py:491] - Completed search 1/3: customizable phone skins
2025-01-19 08:18:42,290 - __main__ - INFO - [main.py:491] - Completed search 2/3: 3M vinyl wraps for electronics
2025-01-19 08:18:43,479 - __main__ - INFO - [main.py:491] - Completed search 3/3: protective laptop skins
2025-01-19 08:18:43,479 - __main__ - INFO - [main.py:515] - Processed 3 search results
2025-01-19 08:18:46,346 - __main__ - INFO - [main.py:533] - Identified 3 top competitors
2025-01-19 08:21:47,693 - astrapy.database - INFO - [database.py:1022] - findCollections
2025-01-19 08:21:48,409 - httpx - INFO - [_client.py:1038] - HTTP Request: POST https://76def820-552c-4b62-a2de-db7646bb920a-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace "HTTP/1.1 200 OK"
2025-01-19 08:21:48,411 - astrapy.database - INFO - [database.py:1034] - finished findCollections
2025-01-19 08:21:48,411 - __main__ - INFO - [main.py:98] - Successfully initialized Gemini and Firecrawl
2025-01-19 08:21:48,417 - __main__ - INFO - [main.py:185] - Successfully initialized all Gemini models
2025-01-19 08:21:54,239 - __main__ - INFO - [main.py:497] - Starting competitor analysis
2025-01-19 08:22:01,826 - __main__ - INFO - [main.py:502] - Successfully scraped website data
2025-01-19 08:22:11,731 - __main__ - INFO - [main.py:514] - Completed website analysis
2025-01-19 08:22:12,657 - __main__ - INFO - [main.py:532] - Generated 3 search queries
2025-01-19 08:22:12,822 - __main__ - INFO - [main.py:559] - Completed search 1/3: customizable phone skins
2025-01-19 08:22:14,974 - __main__ - INFO - [main.py:559] - Completed search 2/3: laptop skins
2025-01-19 08:22:16,608 - __main__ - INFO - [main.py:559] - Completed search 3/3: 3m vinyl wraps
2025-01-19 08:22:16,608 - __main__ - INFO - [main.py:583] - Processed 3 search results
2025-01-19 08:22:19,204 - __main__ - INFO - [main.py:601] - Identified 3 top competitors
2025-01-19 08:22:38,504 - __main__ - ERROR - [main.py:659] - Error in social analysis: Illegal trailing comma before end of object: line 10 column 477 (char 1124)
2025-01-19 08:22:38,510 - __main__ - ERROR - [main.py:681] - Error in unified analysis: Illegal trailing comma before end of object: line 10 column 477 (char 1124)
Traceback (most recent call last):
  File "/Users/manangandhi/Coding/python_projects/level-supermind-hackathon-2025/backend/main.py", line 671, in unified_analysis
    competitor_result, social_result = await asyncio.gather(
                                       ^^^^^^^^^^^^^^^^^^^^^
        competitor_task, social_task
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/manangandhi/Coding/python_projects/level-supermind-hackathon-2025/backend/main.py", line 650, in analyze_social_task
    return json.loads(
           ~~~~~~~~~~^
        result["output"]
        ^^^^^^^^^^^^^^^^
    ...<4 lines>...
        .replace("\\n", "")
        ^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/decoder.py", line 344, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/decoder.py", line 360, in raw_decode
    obj, end = self.scan_once(s, idx)
               ~~~~~~~~~~~~~~^^^^^^^^
json.decoder.JSONDecodeError: Illegal trailing comma before end of object: line 10 column 477 (char 1124)

2025-01-19 08:23:50,759 - astrapy.database - INFO - [database.py:1022] - findCollections
2025-01-19 08:23:51,559 - httpx - INFO - [_client.py:1038] - HTTP Request: POST https://76def820-552c-4b62-a2de-db7646bb920a-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace "HTTP/1.1 200 OK"
2025-01-19 08:23:51,560 - astrapy.database - INFO - [database.py:1034] - finished findCollections
2025-01-19 08:23:51,560 - __main__ - INFO - [main.py:98] - Successfully initialized Gemini and Firecrawl
2025-01-19 08:23:51,563 - __main__ - INFO - [main.py:185] - Successfully initialized all Gemini models
2025-01-19 08:24:09,510 - astrapy.database - INFO - [database.py:1022] - findCollections
2025-01-19 08:24:10,264 - httpx - INFO - [_client.py:1038] - HTTP Request: POST https://76def820-552c-4b62-a2de-db7646bb920a-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace "HTTP/1.1 200 OK"
2025-01-19 08:24:10,266 - astrapy.database - INFO - [database.py:1034] - finished findCollections
2025-01-19 08:24:10,267 - __main__ - INFO - [main.py:98] - Successfully initialized Gemini and Firecrawl
2025-01-19 08:24:10,270 - __main__ - INFO - [main.py:185] - Successfully initialized all Gemini models
2025-01-19 08:24:11,990 - __main__ - INFO - [main.py:496] - Starting competitor analysis
2025-01-19 08:24:26,340 - __main__ - INFO - [main.py:501] - Successfully scraped website data
2025-01-19 08:24:36,907 - __main__ - INFO - [main.py:513] - Completed website analysis
2025-01-19 08:24:37,871 - __main__ - INFO - [main.py:531] - Generated 3 search queries
2025-01-19 08:24:37,948 - __main__ - INFO - [main.py:558] - Completed search 1/3: customizable phone skins
2025-01-19 08:24:42,107 - __main__ - INFO - [main.py:558] - Completed search 2/3: 3M vinyl device wraps
2025-01-19 08:24:42,180 - __main__ - INFO - [main.py:558] - Completed search 3/3: protective laptop skins
2025-01-19 08:24:42,180 - __main__ - INFO - [main.py:582] - Processed 3 search results
2025-01-19 08:24:44,844 - __main__ - INFO - [main.py:600] - Identified 3 top competitors
2025-01-19 08:25:15,577 - __main__ - ERROR - [main.py:658] - Error in social analysis: Expecting value: line 1 column 1 (char 0)
2025-01-19 08:25:15,580 - __main__ - ERROR - [main.py:680] - Error in unified analysis: Expecting value: line 1 column 1 (char 0)
Traceback (most recent call last):
  File "/Users/manangandhi/Coding/python_projects/level-supermind-hackathon-2025/backend/main.py", line 670, in unified_analysis
    competitor_result, social_result = await asyncio.gather(
                                       ^^^^^^^^^^^^^^^^^^^^^
        competitor_task, social_task
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/manangandhi/Coding/python_projects/level-supermind-hackathon-2025/backend/main.py", line 649, in analyze_social_task
    return json.loads(
           ~~~~~~~~~~^
        result["output"]
        ^^^^^^^^^^^^^^^^
    ...<4 lines>...
        .replace("\\n", "")
        ^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/decoder.py", line 344, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.0_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/decoder.py", line 362, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

2025-01-19 08:26:39,933 - astrapy.database - INFO - [database.py:1022] - findCollections
2025-01-19 08:26:40,722 - httpx - INFO - [_client.py:1038] - HTTP Request: POST https://76def820-552c-4b62-a2de-db7646bb920a-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace "HTTP/1.1 200 OK"
2025-01-19 08:26:40,724 - astrapy.database - INFO - [database.py:1034] - finished findCollections
2025-01-19 08:26:40,726 - __main__ - INFO - [main.py:98] - Successfully initialized Gemini and Firecrawl
2025-01-19 08:26:40,727 - __main__ - INFO - [main.py:185] - Successfully initialized all Gemini models
2025-01-19 08:26:41,523 - __main__ - INFO - [main.py:496] - Starting competitor analysis
2025-01-19 08:26:47,520 - __main__ - INFO - [main.py:501] - Successfully scraped website data
2025-01-19 08:26:57,890 - __main__ - INFO - [main.py:513] - Completed website analysis
2025-01-19 08:26:58,821 - __main__ - INFO - [main.py:531] - Generated 3 search queries
2025-01-19 08:26:58,889 - __main__ - INFO - [main.py:558] - Completed search 1/3: customizable phone skins
2025-01-19 08:26:58,978 - __main__ - INFO - [main.py:558] - Completed search 2/3: 3M vinyl wraps for electronics
2025-01-19 08:26:59,050 - __main__ - INFO - [main.py:558] - Completed search 3/3: protective laptop skins
2025-01-19 08:26:59,050 - __main__ - INFO - [main.py:582] - Processed 3 search results
2025-01-19 08:27:01,818 - __main__ - INFO - [main.py:600] - Identified 3 top competitors
2025-01-19 08:30:09,225 - astrapy.database - INFO - [database.py:1022] - findCollections
2025-01-19 08:30:10,031 - httpx - INFO - [_client.py:1038] - HTTP Request: POST https://76def820-552c-4b62-a2de-db7646bb920a-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace "HTTP/1.1 200 OK"
2025-01-19 08:30:10,032 - astrapy.database - INFO - [database.py:1034] - finished findCollections
2025-01-19 08:30:10,033 - __main__ - INFO - [main.py:98] - Successfully initialized Gemini and Firecrawl
2025-01-19 08:30:10,037 - __main__ - INFO - [main.py:185] - Successfully initialized all Gemini models
2025-01-19 08:30:10,572 - __main__ - INFO - [main.py:562] - Starting competitor analysis
2025-01-19 08:30:16,683 - __main__ - INFO - [main.py:567] - Successfully scraped website data
2025-01-19 08:30:28,041 - __main__ - INFO - [main.py:579] - Completed website analysis
2025-01-19 08:30:29,112 - __main__ - INFO - [main.py:597] - Generated 3 search queries
2025-01-19 08:30:29,187 - __main__ - INFO - [main.py:624] - Completed search 1/3: customizable phone skins
2025-01-19 08:30:29,261 - __main__ - INFO - [main.py:624] - Completed search 2/3: laptop vinyl wraps
2025-01-19 08:30:30,365 - __main__ - INFO - [main.py:624] - Completed search 3/3: 3m vinyl skins
2025-01-19 08:30:30,365 - __main__ - INFO - [main.py:648] - Processed 3 search results
2025-01-19 08:30:32,997 - __main__ - INFO - [main.py:666] - Identified 3 top competitors
2025-01-19 08:30:33,013 - __main__ - ERROR - [main.py:724] - Error in social analysis: 'Input to ChatPromptTemplate is missing variables {\'\\n    "query_suggestions"\'}.  Expected: [\'\\n    "query_suggestions"\', \'agent_scratchpad\', \'chat_history\', \'input\'] Received: [\'input\', \'chat_history\', \'intermediate_steps\', \'agent_scratchpad\']\nNote: if you intended {\n    "query_suggestions"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{\n    "query_suggestions"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT'
2025-01-19 08:30:33,022 - __main__ - ERROR - [main.py:746] - Error in unified analysis: 'Input to ChatPromptTemplate is missing variables {\'\\n    "query_suggestions"\'}.  Expected: [\'\\n    "query_suggestions"\', \'agent_scratchpad\', \'chat_history\', \'input\'] Received: [\'input\', \'chat_history\', \'intermediate_steps\', \'agent_scratchpad\']\nNote: if you intended {\n    "query_suggestions"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{\n    "query_suggestions"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT'
Traceback (most recent call last):
  File "/Users/manangandhi/Coding/python_projects/level-supermind-hackathon-2025/backend/main.py", line 736, in unified_analysis
    competitor_result, social_result = await asyncio.gather(
                                       ^^^^^^^^^^^^^^^^^^^^^
        competitor_task, social_task
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/manangandhi/Coding/python_projects/level-supermind-hackathon-2025/backend/main.py", line 707, in analyze_social_task
    result = agent_executor.invoke(
        {
    ...<3 lines>...
        }
    )
  File "/opt/homebrew/lib/python3.13/site-packages/langchain/chains/base.py", line 170, in invoke
    raise e
  File "/opt/homebrew/lib/python3.13/site-packages/langchain/chains/base.py", line 160, in invoke
    self._call(inputs, run_manager=run_manager)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.13/site-packages/langchain/agents/agent.py", line 1629, in _call
    next_step_output = self._take_next_step(
        name_to_tool_map,
    ...<3 lines>...
        run_manager=run_manager,
    )
  File "/opt/homebrew/lib/python3.13/site-packages/langchain/agents/agent.py", line 1337, in _take_next_step
    for a in self._iter_next_step(
             ~~~~~~~~~~~~~~~~~~~~^
        name_to_tool_map,
        ^^^^^^^^^^^^^^^^^
    ...<3 lines>...
        run_manager,
        ^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/lib/python3.13/site-packages/langchain/agents/agent.py", line 1363, in _iter_next_step
    output = self._action_agent.plan(
        intermediate_steps,
        callbacks=run_manager.get_child() if run_manager else None,
        **inputs,
    )
  File "/opt/homebrew/lib/python3.13/site-packages/langchain/agents/agent.py", line 464, in plan
    for chunk in self.runnable.stream(inputs, config={"callbacks": callbacks}):
                 ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 3407, in stream
    yield from self.transform(iter([input]), config, **kwargs)
  File "/opt/homebrew/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 3394, in transform
    yield from self._transform_stream_with_config(
    ...<4 lines>...
    )
  File "/opt/homebrew/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 2197, in _transform_stream_with_config
    chunk: Output = context.run(next, iterator)  # type: ignore
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 3357, in _transform
    yield from final_pipeline
  File "/opt/homebrew/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 1413, in transform
    for ichunk in input:
                  ^^^^^
  File "/opt/homebrew/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 5561, in transform
    yield from self.bound.transform(
    ...<3 lines>...
    )
  File "/opt/homebrew/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 1413, in transform
    for ichunk in input:
                  ^^^^^
  File "/opt/homebrew/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 1431, in transform
    yield from self.stream(final, config, **kwargs)
  File "/opt/homebrew/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 998, in stream
    yield self.invoke(input, config, **kwargs)
          ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.13/site-packages/langchain_core/prompts/base.py", line 208, in invoke
    return self._call_with_config(
           ~~~~~~~~~~~~~~~~~~~~~~^
        self._format_prompt_with_error_handling,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
        serialized=self._serialized,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 1927, in _call_with_config
    context.run(
    ~~~~~~~~~~~^
        call_func_with_variable_args,  # type: ignore[arg-type]
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
        **kwargs,
        ^^^^^^^^^
    ),
    ^
  File "/opt/homebrew/lib/python3.13/site-packages/langchain_core/runnables/config.py", line 396, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
  File "/opt/homebrew/lib/python3.13/site-packages/langchain_core/prompts/base.py", line 182, in _format_prompt_with_error_handling
    _inner_input = self._validate_input(inner_input)
  File "/opt/homebrew/lib/python3.13/site-packages/langchain_core/prompts/base.py", line 176, in _validate_input
    raise KeyError(
        create_message(message=msg, error_code=ErrorCode.INVALID_PROMPT_INPUT)
    )
KeyError: 'Input to ChatPromptTemplate is missing variables {\'\\n    "query_suggestions"\'}.  Expected: [\'\\n    "query_suggestions"\', \'agent_scratchpad\', \'chat_history\', \'input\'] Received: [\'input\', \'chat_history\', \'intermediate_steps\', \'agent_scratchpad\']\nNote: if you intended {\n    "query_suggestions"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{\n    "query_suggestions"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT'

2025-01-19 08:30:51,880 - astrapy.database - INFO - [database.py:1022] - findCollections
2025-01-19 08:30:52,692 - httpx - INFO - [_client.py:1038] - HTTP Request: POST https://76def820-552c-4b62-a2de-db7646bb920a-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace "HTTP/1.1 200 OK"
2025-01-19 08:30:52,692 - astrapy.database - INFO - [database.py:1034] - finished findCollections
2025-01-19 08:30:52,693 - __main__ - INFO - [main.py:98] - Successfully initialized Gemini and Firecrawl
2025-01-19 08:30:52,694 - __main__ - INFO - [main.py:185] - Successfully initialized all Gemini models
2025-01-19 08:30:54,103 - __main__ - INFO - [main.py:562] - Starting competitor analysis
2025-01-19 08:30:58,948 - __main__ - INFO - [main.py:567] - Successfully scraped website data
2025-01-19 08:31:09,017 - __main__ - INFO - [main.py:579] - Completed website analysis
2025-01-19 08:31:10,057 - __main__ - INFO - [main.py:597] - Generated 3 search queries
2025-01-19 08:31:10,202 - __main__ - INFO - [main.py:624] - Completed search 1/3: customizable phone skins
2025-01-19 08:31:10,257 - __main__ - INFO - [main.py:624] - Completed search 2/3: 3M vinyl wraps for electronics
2025-01-19 08:31:12,044 - __main__ - INFO - [main.py:624] - Completed search 3/3: premium device skins
2025-01-19 08:31:12,046 - __main__ - INFO - [main.py:648] - Processed 3 search results
2025-01-19 08:31:14,718 - __main__ - INFO - [main.py:666] - Identified 3 top competitors
2025-01-19 08:31:14,734 - __main__ - ERROR - [main.py:724] - Error in social analysis: 'Input to ChatPromptTemplate is missing variables {\'\\n        "hook"\', \'\\n        "total_posts"\', \'\\n        "videos"\', \'\\n        "average_rating"\'}.  Expected: [\'\\n        "average_rating"\', \'\\n        "hook"\', \'\\n        "total_posts"\', \'\\n        "videos"\', \'agent_scratchpad\', \'chat_history\', \'input\'] Received: [\'input\', \'chat_history\', \'intermediate_steps\', \'agent_scratchpad\']\nNote: if you intended {\n        "hook"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{\n        "hook"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT'
2025-01-19 08:31:14,742 - __main__ - ERROR - [main.py:746] - Error in unified analysis: 'Input to ChatPromptTemplate is missing variables {\'\\n        "hook"\', \'\\n        "total_posts"\', \'\\n        "videos"\', \'\\n        "average_rating"\'}.  Expected: [\'\\n        "average_rating"\', \'\\n        "hook"\', \'\\n        "total_posts"\', \'\\n        "videos"\', \'agent_scratchpad\', \'chat_history\', \'input\'] Received: [\'input\', \'chat_history\', \'intermediate_steps\', \'agent_scratchpad\']\nNote: if you intended {\n        "hook"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{\n        "hook"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT'
Traceback (most recent call last):
  File "/Users/manangandhi/Coding/python_projects/level-supermind-hackathon-2025/backend/main.py", line 736, in unified_analysis
    competitor_result, social_result = await asyncio.gather(
                                       ^^^^^^^^^^^^^^^^^^^^^
        competitor_task, social_task
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/manangandhi/Coding/python_projects/level-supermind-hackathon-2025/backend/main.py", line 707, in analyze_social_task
    result = agent_executor.invoke(
        {
    ...<3 lines>...
        }
    )
  File "/opt/homebrew/lib/python3.13/site-packages/langchain/chains/base.py", line 170, in invoke
    raise e
  File "/opt/homebrew/lib/python3.13/site-packages/langchain/chains/base.py", line 160, in invoke
    self._call(inputs, run_manager=run_manager)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.13/site-packages/langchain/agents/agent.py", line 1629, in _call
    next_step_output = self._take_next_step(
        name_to_tool_map,
    ...<3 lines>...
        run_manager=run_manager,
    )
  File "/opt/homebrew/lib/python3.13/site-packages/langchain/agents/agent.py", line 1337, in _take_next_step
    for a in self._iter_next_step(
             ~~~~~~~~~~~~~~~~~~~~^
        name_to_tool_map,
        ^^^^^^^^^^^^^^^^^
    ...<3 lines>...
        run_manager,
        ^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/lib/python3.13/site-packages/langchain/agents/agent.py", line 1363, in _iter_next_step
    output = self._action_agent.plan(
        intermediate_steps,
        callbacks=run_manager.get_child() if run_manager else None,
        **inputs,
    )
  File "/opt/homebrew/lib/python3.13/site-packages/langchain/agents/agent.py", line 464, in plan
    for chunk in self.runnable.stream(inputs, config={"callbacks": callbacks}):
                 ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 3407, in stream
    yield from self.transform(iter([input]), config, **kwargs)
  File "/opt/homebrew/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 3394, in transform
    yield from self._transform_stream_with_config(
    ...<4 lines>...
    )
  File "/opt/homebrew/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 2197, in _transform_stream_with_config
    chunk: Output = context.run(next, iterator)  # type: ignore
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 3357, in _transform
    yield from final_pipeline
  File "/opt/homebrew/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 1413, in transform
    for ichunk in input:
                  ^^^^^
  File "/opt/homebrew/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 5561, in transform
    yield from self.bound.transform(
    ...<3 lines>...
    )
  File "/opt/homebrew/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 1413, in transform
    for ichunk in input:
                  ^^^^^
  File "/opt/homebrew/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 1431, in transform
    yield from self.stream(final, config, **kwargs)
  File "/opt/homebrew/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 998, in stream
    yield self.invoke(input, config, **kwargs)
          ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.13/site-packages/langchain_core/prompts/base.py", line 208, in invoke
    return self._call_with_config(
           ~~~~~~~~~~~~~~~~~~~~~~^
        self._format_prompt_with_error_handling,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
        serialized=self._serialized,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 1927, in _call_with_config
    context.run(
    ~~~~~~~~~~~^
        call_func_with_variable_args,  # type: ignore[arg-type]
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
        **kwargs,
        ^^^^^^^^^
    ),
    ^
  File "/opt/homebrew/lib/python3.13/site-packages/langchain_core/runnables/config.py", line 396, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
  File "/opt/homebrew/lib/python3.13/site-packages/langchain_core/prompts/base.py", line 182, in _format_prompt_with_error_handling
    _inner_input = self._validate_input(inner_input)
  File "/opt/homebrew/lib/python3.13/site-packages/langchain_core/prompts/base.py", line 176, in _validate_input
    raise KeyError(
        create_message(message=msg, error_code=ErrorCode.INVALID_PROMPT_INPUT)
    )
KeyError: 'Input to ChatPromptTemplate is missing variables {\'\\n        "hook"\', \'\\n        "total_posts"\', \'\\n        "videos"\', \'\\n        "average_rating"\'}.  Expected: [\'\\n        "average_rating"\', \'\\n        "hook"\', \'\\n        "total_posts"\', \'\\n        "videos"\', \'agent_scratchpad\', \'chat_history\', \'input\'] Received: [\'input\', \'chat_history\', \'intermediate_steps\', \'agent_scratchpad\']\nNote: if you intended {\n        "hook"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{\n        "hook"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT'

